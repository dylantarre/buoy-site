---
import FeatureLayout from '../../layouts/FeatureLayout.astro'
import Terminal from '../../components/Terminal.astro'
import FeatureCard from '../../components/FeatureCard.astro'

const terminalLines = [
  { text: '', delay: 600 },
  { text: '<span class="text-buoy">‚öì</span> Reading design tokens from Figma...', type: 'output', delay: 800 },
  { text: '', delay: 1200 },
  { text: '<span class="text-success">‚úì</span> Found 24 color tokens', type: 'success', delay: 1400 },
  { text: '<span class="text-success">‚úì</span> Found 8 spacing tokens', type: 'success', delay: 1600 },
  { text: '<span class="text-success">‚úì</span> Found 6 typography tokens', type: 'success', delay: 1800 },
  { text: '', delay: 2000 },
  { text: '<span class="text-buoy">‚öì</span> Generating token files...', type: 'output', delay: 2200 },
  { text: '', delay: 2400 },
  { text: '<span class="text-success">‚úì</span> Created tokens.css', type: 'success', delay: 2600 },
  { text: '<span class="text-success">‚úì</span> Created tokens.json', type: 'success', delay: 2800 },
  { text: '<span class="text-success">‚úì</span> Created tailwind.config.js extension', type: 'success', delay: 3000 },
  { text: '', delay: 3200 },
  { text: '<span class="text-light">Build complete!</span> <span class="text-slate">3 files generated</span>', type: 'output', delay: 3400 },
]

const sources = [
  {
    name: 'Figma Variables',
    description: 'Import tokens directly from Figma Variables API',
    icon: 'üé®'
  },
  {
    name: 'Style Dictionary',
    description: 'Convert Style Dictionary JSON to any output format',
    icon: 'üìñ'
  },
  {
    name: 'Tokens Studio',
    description: 'Sync with Tokens Studio for Figma',
    icon: 'üéØ'
  },
  {
    name: 'Custom JSON',
    description: 'Define tokens in a simple JSON format',
    icon: 'üìù'
  },
]

const outputs = [
  { name: 'CSS Variables', file: 'tokens.css' },
  { name: 'JSON', file: 'tokens.json' },
  { name: 'Tailwind Config', file: 'tailwind.config.js' },
  { name: 'SCSS Variables', file: '_tokens.scss' },
  { name: 'TypeScript Constants', file: 'tokens.ts' },
  { name: 'iOS Swift', file: 'Tokens.swift' },
  { name: 'Android XML', file: 'tokens.xml' },
  { name: 'Compose', file: 'Tokens.kt' },
]

const relatedFeatures = [
  {
    title: 'Bootstrap',
    description: 'Extract tokens from existing code',
    href: '/features/bootstrap'
  },
  {
    title: 'Figma Integration',
    description: 'Sync tokens with Figma',
    href: '/integrations/figma'
  },
  {
    title: 'Drift Detection',
    description: 'Ensure code uses generated tokens',
    href: '/features/drift-detection'
  },
]
---

<FeatureLayout
  title="Generate Design Tokens with AI | Buoy"
  description="Build design tokens from Figma, Style Dictionary, or custom sources. Generate CSS variables, Tailwind config, and platform-specific outputs."
  keywords="generate design tokens, figma to css variables, style dictionary alternative"
  heroTitle="Build tokens from any source"
  heroDescription="Import from Figma, Style Dictionary, or define your own. Generate outputs for every platform."
>
  <!-- Sources -->`
  <section class="py-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold text-light mb-8 text-center">Import From Anywhere</h2>

      <div class="grid sm:grid-cols-2 gap-6">
        {sources.map((source) => (
          <div class="bg-navy/50 border border-navy-light/20 rounded-xl p-6">
            <div class="text-3xl mb-4">{source.icon}</div>
            <h3 class="font-semibold text-light mb-2">{source.name}</h3>
            <p class="text-sm text-slate">{source.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Terminal Demo -->
  <section class="py-16 bg-navy">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold text-light mb-8 text-center">See it in action</h2>
      <Terminal command="buoy import design-tokens.json" lines={terminalLines} />
    </div>
  </section>

  <!-- Output Formats -->
  <section class="py-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold text-light mb-8 text-center">Output to Any Platform</h2>

      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
        {outputs.map((output) => (
          <div class="bg-navy/50 border border-navy-light/20 rounded-lg p-4 flex items-center justify-between">
            <span class="text-light text-sm">{output.name}</span>
            <code class="text-xs text-slate-dark">{output.file}</code>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Config Example -->
  <section class="py-16 bg-navy">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold text-light mb-8 text-center">Simple Configuration</h2>

      <div class="bg-navy-dark border border-navy-light/30 rounded-xl overflow-hidden">
        <div class="px-4 py-3 bg-navy border-b border-navy-light/20">
          <span class="text-sm text-slate font-mono">buoy.config.mjs</span>
        </div>
        <pre class="p-4 text-sm font-mono overflow-x-auto"><code class="text-slate">{`export default {
  build: {
    // Token source
    source: {
      type: 'figma',
      fileKey: 'your-figma-file-key',
      // Or use Style Dictionary
      // type: 'style-dictionary',
      // path: './tokens.json'
    },

    // Output formats
    outputs: [
      { format: 'css', path: './src/tokens.css' },
      { format: 'tailwind', path: './tailwind.tokens.js' },
      { format: 'json', path: './tokens.json' },
    ],

    // Transform options
    transforms: {
      colorFormat: 'hsl',  // rgb, hsl, hex
      spacingUnit: 'rem',  // px, rem, em
      prefix: '--ds-',     // CSS variable prefix
    }
  }
}`}</code></pre>
      </div>
    </div>
  </section>

  <!-- Pro Feature Note -->
  <section class="py-16">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <div class="bg-navy-dark border border-lavender/30 rounded-xl p-6">
        <span class="text-lavender font-semibold">Pro Feature</span>
        <p class="text-slate mt-2">
          Build with Figma sync and advanced transforms requires a Pro subscription.
          The open source CLI supports local JSON sources.
        </p>
        <a href="/pricing" class="text-buoy hover:text-buoy-light transition-colors mt-4 inline-block">
          View pricing ‚Üí
        </a>
      </div>
    </div>
  </section>

  <!-- Related Features -->
  <div slot="related" class="grid sm:grid-cols-3 gap-6 max-w-4xl mx-auto">
    {relatedFeatures.map((feature) => (
      <FeatureCard
        title={feature.title}
        description={feature.description}
        href={feature.href}
      />
    ))}
  </div>
</FeatureLayout>
