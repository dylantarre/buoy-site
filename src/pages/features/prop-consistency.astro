---
import FeatureLayout from '../../layouts/FeatureLayout.astro'
import Terminal from '../../components/Terminal.astro'
import FeatureCard from '../../components/FeatureCard.astro'

const terminalLines = [
  { text: '', delay: 600 },
  { text: '<span class="text-buoy">⚓</span> Analyzing prop patterns...', type: 'output', delay: 800 },
  { text: '', delay: 1200 },
  { text: '<span class="text-warning">⚠</span> Found <span class="text-light">4</span> prop inconsistencies', type: 'warning', delay: 1400 },
  { text: '', delay: 1600 },
  { text: '<span class="text-slate">Boolean naming:</span>', type: 'output', delay: 1800 },
  { text: '  Button.tsx uses <span class="text-light">disabled</span>', type: 'muted', delay: 2000 },
  { text: '  Input.tsx uses <span class="text-light">isDisabled</span>', type: 'muted', delay: 2200 },
  { text: '  <span class="text-warning">→ Inconsistent across 8 components</span>', type: 'warning', delay: 2400 },
  { text: '', delay: 2600 },
  { text: '<span class="text-slate">Size variants:</span>', type: 'output', delay: 2800 },
  { text: '  Button.tsx: size="sm" | "md" | "lg"', type: 'muted', delay: 3000 },
  { text: '  Badge.tsx: size="small" | "medium" | "large"', type: 'muted', delay: 3200 },
  { text: '  <span class="text-warning">→ Use consistent size naming</span>', type: 'warning', delay: 3400 },
]

const inconsistencies = [
  {
    title: 'Boolean Props',
    bad: ['disabled vs isDisabled', 'loading vs isLoading', 'open vs isOpen'],
    good: 'Pick one pattern and use it everywhere'
  },
  {
    title: 'Size Variants',
    bad: ['sm/md/lg vs small/medium/large', 'xs/s/m/l/xl vs 1/2/3/4/5'],
    good: 'Standardize on sm/md/lg across all components'
  },
  {
    title: 'Color Props',
    bad: ['color vs variant vs intent', 'primary/secondary vs blue/gray'],
    good: 'Use variant for semantic, color for literal'
  },
  {
    title: 'Event Handlers',
    bad: ['onClick vs handleClick', 'onChange vs onValueChange'],
    good: 'Always use on* prefix for callbacks'
  },
]

const relatedFeatures = [
  {
    title: 'Naming Consistency',
    description: 'Consistent file and token names',
    href: '/features/naming-consistency'
  },
  {
    title: 'Drift Detection',
    description: 'All consistency checks',
    href: '/features/drift-detection'
  },
  {
    title: 'React Integration',
    description: 'React-specific checks',
    href: '/integrations/react'
  },
]
---

<FeatureLayout
  title="Consistent Component Props | Buoy"
  description="Ensure component APIs are consistent. Catch prop naming drift across your design system components."
  keywords="component prop consistency, design system api, component interface"
  heroTitle="Consistent component APIs"
  heroDescription="Is it 'disabled' or 'isDisabled'? 'sm' or 'small'? Pick once, enforce everywhere."
>
  <!-- The Problem -->
  <section class="py-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold text-light mb-8 text-center">The Prop Consistency Problem</h2>

      <div class="bg-navy/50 border border-navy-light/20 rounded-xl p-6">
        <div class="grid md:grid-cols-2 gap-8">
          <div>
            <h3 class="font-semibold text-critical mb-4">Without Consistency</h3>
            <pre class="text-sm font-mono text-slate bg-navy-dark rounded-lg p-4 overflow-x-auto"><code>{`// Every component is different
<Button disabled size="sm" />
<Input isDisabled size="small" />
<Select isDisabled={true} size="s" />
<Badge inactive size={1} />`}</code></pre>
          </div>
          <div>
            <h3 class="font-semibold text-success mb-4">With Buoy Enforcing</h3>
            <pre class="text-sm font-mono text-slate bg-navy-dark rounded-lg p-4 overflow-x-auto"><code>{`// Predictable everywhere
<Button isDisabled size="sm" />
<Input isDisabled size="sm" />
<Select isDisabled size="sm" />
<Badge isDisabled size="sm" />`}</code></pre>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Terminal Demo -->
  <section class="py-16 bg-navy">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold text-light mb-8 text-center">See it in action</h2>
      <Terminal command="buoy drift check" lines={terminalLines} />
    </div>
  </section>

  <!-- Common Inconsistencies -->
  <section class="py-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold text-light mb-8 text-center">Common Inconsistencies We Catch</h2>

      <div class="space-y-6">
        {inconsistencies.map((item) => (
          <div class="bg-navy/50 border border-navy-light/20 rounded-xl p-6">
            <h3 class="font-semibold text-light mb-4">{item.title}</h3>
            <div class="grid md:grid-cols-2 gap-4">
              <div>
                <span class="text-xs text-critical uppercase tracking-wide">Problems</span>
                <ul class="mt-2 space-y-1">
                  {item.bad.map((b) => (
                    <li class="text-sm text-slate flex items-center gap-2">
                      <span class="text-critical">✗</span> {b}
                    </li>
                  ))}
                </ul>
              </div>
              <div>
                <span class="text-xs text-success uppercase tracking-wide">Solution</span>
                <p class="mt-2 text-sm text-slate flex items-start gap-2">
                  <span class="text-success">✓</span> {item.good}
                </p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Configuration -->
  <section class="py-16 bg-navy">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold text-light mb-8 text-center">Define Your Prop Standards</h2>

      <div class="bg-navy-dark border border-navy-light/30 rounded-xl overflow-hidden">
        <div class="px-4 py-3 bg-navy border-b border-navy-light/20">
          <span class="text-sm text-slate font-mono">buoy.config.mjs</span>
        </div>
        <pre class="p-4 text-sm font-mono overflow-x-auto"><code class="text-slate">{`export default {
  props: {
    // Boolean props must use is* prefix
    booleans: {
      pattern: 'is*',
      exceptions: ['disabled', 'required', 'checked'], // HTML native
    },

    // Standard size values
    sizes: ['xs', 'sm', 'md', 'lg', 'xl'],

    // Standard variant values
    variants: ['primary', 'secondary', 'ghost', 'danger'],

    // Event handler naming
    handlers: {
      pattern: 'on*',
      // onChange, onClick, onSubmit, etc.
    },

    // Required props for specific components
    required: {
      'Button': ['children'],
      'Input': ['name', 'label'],
      'Image': ['alt'],
    }
  }
}`}</code></pre>
      </div>
    </div>
  </section>

  <!-- Related Features -->
  <div slot="related" class="grid sm:grid-cols-3 gap-6 max-w-4xl mx-auto">
    {relatedFeatures.map((feature) => (
      <FeatureCard
        title={feature.title}
        description={feature.description}
        href={feature.href}
      />
    ))}
  </div>
</FeatureLayout>
