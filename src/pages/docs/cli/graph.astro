---
import DocsLayout from '../../../layouts/DocsLayout.astro'
---

<DocsLayout title="buoy graph" description="Build and query the design system knowledge graph">
  <h1>buoy graph</h1>

  <p>
    Build and query a knowledge graph of your design system. Understand
    relationships between components, tokens, and patterns.
  </p>

  <h2>Usage</h2>

  <pre><code>buoy graph &lt;command&gt; [options]</code></pre>

  <h2>Commands</h2>

  <table>
    <thead>
      <tr>
        <th>Command</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>build</code></td>
        <td>Build the knowledge graph from the codebase</td>
      </tr>
      <tr>
        <td><code>query &lt;question&gt;</code></td>
        <td>Query the knowledge graph</td>
      </tr>
      <tr>
        <td><code>export</code></td>
        <td>Export the graph for visualization</td>
      </tr>
      <tr>
        <td><code>stats</code></td>
        <td>Show graph statistics</td>
      </tr>
    </tbody>
  </table>

  <h2>Examples</h2>

  <h3>Build the graph</h3>

  <pre><code>$ buoy graph build

Building knowledge graph...

Nodes: 156
  - 42 components
  - 67 tokens
  - 47 patterns

Edges: 312 relationships

Graph saved to .buoy/graph.json</code></pre>

  <h3>Query the graph</h3>

  <pre><code>$ buoy graph query "What components use the primary color?"

Components using --color-primary:
  - Button (3 usages)
  - Link (2 usages)
  - Badge (1 usage)
  - Tab (1 usage)</code></pre>

  <h3>Export for visualization</h3>

  <pre><code>$ buoy graph export --format dot -o graph.dot

Exported to graph.dot
Open with Graphviz or paste into https://dreampuf.github.io/GraphvizOnline/</code></pre>

  <h3>View statistics</h3>

  <pre><code>$ buoy graph stats

Knowledge Graph Statistics
──────────────────────────
Components: 42
Tokens: 67
Patterns: 47
Relationships: 312

Most connected:
  - Button (23 relationships)
  - Card (18 relationships)
  - Typography (15 relationships)</code></pre>

  <h2>Related</h2>

  <ul>
    <li><a href="/docs/cli/audit">buoy audit</a> - Health scoring</li>
    <li><a href="/docs/cli/explain">buoy explain</a> - AI investigation</li>
  </ul>
</DocsLayout>
