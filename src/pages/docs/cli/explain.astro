---
import DocsLayout from '../../../layouts/DocsLayout.astro'
---

<DocsLayout title="buoy explain" description="AI-powered investigation of code and drift signals">
  <h1>buoy explain</h1>

  <p>
    Use AI to investigate and explain code patterns, drift signals, and design
    system issues. Get actionable insights without reading through all the code.
  </p>

  <h2>Usage</h2>

  <pre><code>buoy explain [target] [options]</code></pre>

  <h2>Arguments</h2>

  <table>
    <thead>
      <tr>
        <th>Argument</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>target</code></td>
        <td>File, directory, or drift:&lt;id&gt; (runs scan if omitted)</td>
      </tr>
    </tbody>
  </table>

  <h2>Options</h2>

  <table>
    <thead>
      <tr>
        <th>Option</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>-a, --all</code></td>
        <td>Explain the entire design system</td>
      </tr>
      <tr>
        <td><code>-s, --save</code></td>
        <td>Save the explanation to .buoy/explain/</td>
      </tr>
      <tr>
        <td><code>-o, --output &lt;path&gt;</code></td>
        <td>Save explanation to custom path</td>
      </tr>
      <tr>
        <td><code>-v, --verbose</code></td>
        <td>Show detailed agent progress</td>
      </tr>
      <tr>
        <td><code>-q, --quick</code></td>
        <td>Quick analysis (shorter prompts, faster)</td>
      </tr>
      <tr>
        <td><code>--json</code></td>
        <td>Output as JSON</td>
      </tr>
    </tbody>
  </table>

  <h2>Examples</h2>

  <h3>Explain a file</h3>

  <pre><code>$ buoy explain src/components/Button.tsx

Analyzing Button.tsx...

This component defines the primary Button used across the app.

Key observations:
- Uses hardcoded color #3b82f6 (should use --color-primary)
- Has 3 variants: primary, secondary, ghost
- Props are well-typed but missing size prop

Recommendations:
1. Replace hardcoded color with design token
2. Add size prop for consistency with other components</code></pre>

  <h3>Explain a drift signal</h3>

  <pre><code>$ buoy explain drift:abc123

This drift was detected because...

The hardcoded value #f3f4f6 appears in Card.tsx:15.
It's close to --color-gray-100 but not an exact match.

Likely cause: Copy-pasted from design file with slightly
different value than the established token.</code></pre>

  <h3>Explain entire design system</h3>

  <pre><code>$ buoy explain --all

Analyzing design system...

Your design system has 42 components and 67 tokens.
Coverage is at 73%.

Patterns detected:
- Consistent Button/Card/Modal architecture
- Mixed spacing approach (some use tokens, some hardcoded)
- Color palette is well-defined but underutilized</code></pre>

  <h2>Related</h2>

  <ul>
    <li><a href="/docs/cli/drift">buoy drift</a> - Detect drift signals</li>
    <li><a href="/docs/cli/audit">buoy audit</a> - Health scoring</li>
  </ul>
</DocsLayout>
